# Feature Plan: Complete Pyre Design System Implementation

## Overview
Implement the complete Pyre design system as specified in the `.cursor/rules/design_system.mdc` rule. The current codebase has partial implementation of the design system, but needs to be fully aligned with the comprehensive specifications including proper color usage guidelines, typography rules, spacing system, and component guidelines.

## Current State Analysis
- **Colors**: Basic OKLCH color variables are defined but don't match the RGB specifications in the rule
- **Typography**: Font families are configured but missing kerning guidelines and golden ratio scaling
- **Components**: Basic components exist but don't follow the design system guidelines
- **Symbols**: Symbols exist in `/public/symbols/` but need proper naming and usage guidelines
- **Spacing**: Basic container system exists but needs refinement

## Files to Modify

### Core Design System Files
- `src/styles/global.css` - Update color variables, add typography utilities, implement spacing system
- `src/lib/fonts.ts` - Add golden ratio type scale, kerning guidelines
- `src/lib/utils.ts` - Add design system utility functions

### Component Updates
- `src/components/HeroSection.astro` - Implement proper color usage, typography scaling
- `src/components/AboutSection.astro` - Apply design system guidelines
- `src/components/ServicesShowcase.astro` - Implement symbol usage and color separation rules
- `src/components/MailingListSignup.astro` - Apply form guidelines
- `src/components/ContactSection.astro` - Implement component guidelines
- `src/components/Footer.astro` - Apply design system principles
- `src/components/Button.astro` - Update button styling to match guidelines
- `src/components/ui/` - Update all UI components to follow design system

### Symbol Management
- `public/symbols/` - Rename symbols to reflect designated use cases
- Create symbol usage documentation

## Technical Implementation Details

### Phase 1: Color System Implementation
1. **Update Color Variables** in `global.css`:
   - Replace current OKLCH values with proper Pyre brand colors
   - Implement RGB to OKLCH conversion for: Pyre Black (38, 37, 37), Pyre Creme (250, 248, 236), Pyre Red (241, 88, 54), Pyre Blue (36, 90, 130)
   - Add color separation rules and usage guidelines
   - Implement dark mode color schemes

2. **Color Usage Algorithm**:
   - Enforce "no more than 2 colors together" rule
   - Implement color combination validation
   - Create color utility classes for proper combinations

### Phase 2: Typography System Enhancement
1. **Golden Ratio Type Scale** in `fonts.ts`:
   - Implement 1:1.618 ratio scaling
   - Create type scale utilities: base * 1.618^n
   - Add high-contrast typography classes

2. **Kerning Guidelines**:
   - PPNeueMontreal: px > 200 (kern -40), px 20-200 (kern -20), px < 20 (kern 0-100)
   - PPFraktionMono: px > 20 (kern -20), px < 20 (kern 0-200)
   - Add kerning utility classes

3. **Typography Utilities**:
   - Enhance existing font utilities with proper weights
   - Add leading (line-height) controls
   - Implement type hierarchy classes

### Phase 3: Spacing & Layout System
1. **Border Radius System**:
   - Base: 0.625rem (10px)
   - Small: calc(var(--radius) - 4px)
   - Medium: calc(var(--radius) - 2px)
   - Large: var(--radius)
   - Extra Large: calc(var(--radius) + 4px)

2. **Container System Enhancement**:
   - Refine responsive breakpoints
   - Implement proper padding/margin scale
   - Add visual hierarchy spacing utilities

### Phase 4: Component Guidelines Implementation
1. **Button Components**:
   - Primary color for main CTAs
   - Secondary color for less important actions
   - Consistent padding and border-radius
   - Focus states implementation

2. **Card Components**:
   - Cream background for light mode
   - Subtle borders and shadows
   - Consistent padding and spacing

3. **Form Components**:
   - Clear input styling with focus states
   - Consistent spacing between form elements
   - Accessible labels and error states

### Phase 5: Symbol System Implementation
1. **Symbol Renaming**:
   - Rename Artboard 1-9 to reflect designated use cases
   - Examples: `sauna-symbol.png`, `community-symbol.png`, `wellness-symbol.png`
   - Create symbol assignment documentation

2. **Symbol Usage Guidelines**:
   - Implement symbol as accent elements
   - Maintain consistent sizing across contexts
   - Create symbol utility classes

### Phase 6: Design Principles Integration
1. **High-Contrast Philosophy**:
   - Implement "high-contrast is king" principle
   - Add contrast validation utilities
   - Create dramatic scale typography classes

2. **Brand Personality Implementation**:
   - "Saturate a message" - bold typography and color usage
   - "Be brave" - challenge minimalism with memorable communication
   - "Embrace grit and blur" - textured backgrounds and complex layouts

3. **Accessibility Enhancement**:
   - WCAG AA contrast ratios
   - Focus indicators: `outline: 2px solid var(--ring)`
   - Semantic HTML structure
   - Keyboard navigation support

## Implementation Algorithm

### Color Management Algorithm
```typescript
// Color combination validation
function validateColorCombination(colors: string[]): boolean {
  const primaryColors = ['pyre-black', 'pyre-creme', 'pyre-red', 'pyre-blue'];
  const usedColors = colors.filter(c => primaryColors.includes(c));
  return usedColors.length <= 2;
}

// Color separation enforcement
function enforceColorSeparation(element1: string, element2: string): boolean {
  const conflictingPairs = [
    ['pyre-blue', 'pyre-red'],
    ['pyre-red', 'pyre-blue']
  ];
  return !conflictingPairs.some(pair => 
    pair.includes(element1) && pair.includes(element2)
  );
}
```

### Typography Scaling Algorithm
```typescript
// Golden ratio type scale
function calculateTypeScale(baseSize: number, scale: number): number {
  return baseSize * Math.pow(1.618, scale);
}

// Kerning calculation
function calculateKerning(fontFamily: string, fontSize: number): number {
  if (fontFamily === 'PPNeueMontreal') {
    if (fontSize > 200) return -40;
    if (fontSize >= 20) return -20;
    return Math.random() * 100; // 0-100 variable
  }
  if (fontFamily === 'PPFraktionMono') {
    if (fontSize > 20) return -20;
    return Math.random() * 200; // 0-200 variable
  }
  return 0;
}
```

## Success Criteria
- All color usage follows the "no more than 2 colors together" rule
- Typography implements golden ratio scaling and proper kerning
- Components follow the established design guidelines
- Symbols are properly named and used as accent elements
- High-contrast philosophy is maintained throughout
- Accessibility standards are met (WCAG AA)
- Dark mode support is comprehensive
- Responsive design works across all breakpoints

## Dependencies
- Existing Tailwind CSS configuration
- Current font files in `/public/fonts/`
- Existing symbol files in `/public/symbols/`
- Current component structure

## Notes
- This implementation builds upon the existing partial design system
- Focus on maintaining backward compatibility while enhancing the system
- Prioritize the high-contrast philosophy and brand personality
- Ensure all changes follow the established file structure and naming conventions 