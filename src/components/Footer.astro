---
import footerConfig from "../lib/footer";
const base = import.meta.env.BASE_URL ?? '/';
const withBase = (path: string) => `${base}${path.replace(/^\//, '')}`;
---

<footer role="contentinfo" class="relative bg-repeating-logo text-[var(--pyre-creme)]">
  <div class="absolute inset-0 bg-[var(--pyre-black)] opacity-90" aria-hidden="true"></div>

  <div class="relative z-10 mx-auto w-full px-4 py-12 sm:py-16 md:py-20 sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-4">
      <!-- Brand -->
      <div class="md:col-span-1">
        <img
          src={withBase(footerConfig.images.brandMark?.src ?? '')}
          alt={footerConfig.images.brandMark?.alt}
          width="800"
          height="220"
          class="h-[clamp(100px,10vw,100px)] w-auto" 
          loading="lazy"
          decoding="async"
        />
      </div>

      <!-- Hours -->
      <div>
        <h2 class="font-primary-semibold uppercase tracking-wide text-sm mb-2">{footerConfig.elements.hoursHeading}</h2>
        <p class="text-base">{footerConfig.elements.hoursText}</p>
      </div>

      <!-- Location -->
      <div>
        <h2 class="font-primary-semibold uppercase tracking-wide text-sm mb-2">{footerConfig.elements.locationHeading}</h2>
        <p class="text-base">{footerConfig.elements.locationText}</p>
      </div>

      <!-- Contact & Social -->
      <div class="">
        <h2 class="font-primary-semibold uppercase tracking-wide text-sm mb-2">{footerConfig.elements.contactHeading}</h2>
        <p class="text-base mb-4">
          <a
            href={`mailto:${footerConfig.actions?.contactEmail}`}
            class="underline underline-offset-4 hover:no-underline focus:no-underline"
          >{footerConfig.actions?.contactEmail}</a>
        </p>
        <div class="flex items-center gap-3">
          <a
            href={footerConfig.actions?.instagram?.href}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={footerConfig.actions?.instagram?.ariaLabel}
            class="inline-flex items-center gap-2 underline underline-offset-4 hover:no-underline focus:no-underline"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="h-5 w-5"
              aria-hidden="true"
            >
              <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm11 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2.1A2.9 2.9 0 1 0 12 15.9 2.9 2.9 0 0 0 12 9.1z"/>
            </svg>
            <span>{footerConfig.actions?.instagram?.label}</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>