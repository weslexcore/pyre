---
import Layout from "../layouts/main.astro";
import { healthSafety } from "../lib/healthSafety";
import { Image } from "astro:assets";
import saunaLadle from "../assets/images/sauna_ladle.jpeg";

const pageTitle = `${healthSafety.title} | Pyre Sauna`;
const description = healthSafety.intro ?? healthSafety.sections[0]?.paragraphs?.[0] ?? "";
---

<Layout title={pageTitle} description={description}>
	{healthSafety.headerImage && (
		<div class="w-full max-h-[45dvh] overflow-hidden">
			<Image 
				src={saunaLadle} 
				alt={healthSafety.headerImage.alt || "Health & Safety header"} 
				width={1920}
				height={1080}
				class="w-full h-full max-h-[45dvh] object-cover" 
				loading="eager"
				decoding="async"
			/>
		</div>
	)}
	
	<main class="mx-auto max-w-screen-md px-4 py-16">
		<h1 class="font-primary-semibold text-3xl md:text-4xl">{healthSafety.title}</h1>
		{ healthSafety.effectiveDate || healthSafety.lastUpdated ? (
			<p class="mt-2 text-sm text-gray-600">
				{healthSafety.effectiveDate ? `Effective Date: ${healthSafety.effectiveDate}` : null}
				{healthSafety.effectiveDate && healthSafety.lastUpdated ? ' Â· ' : null}
				{healthSafety.lastUpdated ? `Last updated: ${healthSafety.lastUpdated}` : null}
			</p>
		) : null }

		{ healthSafety.intro ? (
			<p class="mt-6 text-base leading-7">{healthSafety.intro}</p>
		) : null }

		{healthSafety.sections.map((section) => (
			<section class="mt-10">
				<h2 class="font-primary-semibold text-2xl">{section.heading}</h2>
				{section.paragraphs?.map((p) => (
					<p class="mt-4 text-base leading-7">{p}</p>
				))}
				{section.lists?.map((list) => (
					<div class="mt-6">
						{list.title ? <h3 class="font-primary-semibold text-xl">{list.title}</h3> : null}
						<ul class="mt-2 list-disc pl-6 space-y-2">
							{list.items.map((item) => (
								<li class="text-base leading-7">{item.text}</li>
							))}
						</ul>
					</div>
				))}
			</section>
		))}
	</main>
</Layout>